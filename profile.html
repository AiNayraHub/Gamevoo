<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Gamevoo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .bottom-nav { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.9); }
    </style>
</head>
<body class="bg-[#f8fafc] pb-28 font-sans">

    <div class="max-w-md mx-auto p-6">
        <div class="flex items-center gap-4 mb-8">
            <button onclick="window.location.href='home.html'" class="w-10 h-10 bg-white rounded-full shadow-sm flex items-center justify-center text-slate-600">
                <i class="fas fa-chevron-left"></i>
            </button>
            <h2 class="text-xl font-black italic text-slate-800 uppercase">My Profile</h2>
        </div>

        <div class="bg-gradient-to-br from-indigo-600 to-blue-600 p-8 rounded-[40px] text-white shadow-xl mb-8 relative overflow-hidden">
            <div class="relative z-10 text-center">
                <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 border-2 border-white backdrop-blur-md">
                    <i class="fas fa-user-circle text-4xl"></i>
                </div>
                <h3 class="text-2xl font-black italic" id="user-email-display">Loading Email...</h3>
                <p class="text-[10px] font-bold opacity-70 uppercase tracking-widest mt-2">Member Since: <span id="member-since">Loading...</span></p>
            </div>
            <i class="fas fa-shield-alt absolute -right-5 -bottom-5 text-9xl opacity-10 -rotate-12"></i>
        </div>

        <div class="bg-white p-6 rounded-[35px] shadow-sm border border-slate-100 mb-6">
            <h3 class="text-sm font-black text-slate-800 mb-4 uppercase italic">Account Details</h3>
            <div class="flex items-center justify-between py-3 border-b border-slate-100 last:border-b-0">
                <p class="text-xs font-bold text-slate-500">Current Coins</p>
                <p class="text-base font-black text-indigo-600">ðŸª™ <span id="profile-coins">0</span></p>
            </div>
            <div class="flex items-center justify-between py-3 border-b border-slate-100 last:border-b-0">
                <p class="text-xs font-bold text-slate-500">User ID</p>
                <p class="text-[10px] font-bold text-slate-700" id="user-id-display">Loading...</p>
            </div>
        </div>

        <button onclick="logoutUser()" class="w-full bg-red-500 text-white py-4 rounded-[25px] font-black text-lg shadow-lg shadow-red-100 active:scale-95 transition-all">
            <i class="fas fa-sign-out-alt mr-2"></i> LOGOUT
        </button>
    </div>

    <div class="fixed bottom-0 left-0 right-0 p-4 pb-6 bottom-nav border-t border-slate-100 flex justify-around items-center">
        <button onclick="window.location.href='home.html'" class="flex flex-col items-center gap-1 text-slate-400">
            <i class="fas fa-home text-xl"></i>
            <span class="text-[9px] font-black uppercase">Home</span>
        </button>
        
        <button onclick="window.location.href='wallet.html'" class="flex flex-col items-center gap-1 text-slate-400">
            <i class="fas fa-wallet text-xl"></i>
            <span class="text-[9px] font-black uppercase">Wallet</span>
        </button>

        <button onclick="window.location.href='reward.html'" class="flex flex-col items-center gap-1 text-slate-400">
            <i class="fas fa-ticket-alt text-xl"></i>
            <span class="text-[9px] font-black uppercase">Gift Code</span>
        </button>

        <button onclick="window.location.href='profile.html'" class="flex flex-col items-center gap-1 text-indigo-600">
            <i class="fas fa-user text-xl"></i>
            <span class="text-[9px] font-black uppercase">Profile</span>
        </button>
    </div>

    <script src="app.js"></script>
    <script>
        // 1. UI Update Loop (Coins and Email)
        function updateProfileUI() {
            if (typeof coins !== 'undefined') {
                document.getElementById('profile-coins').innerText = coins;
            }
            if (typeof userEmail !== 'undefined') {
                document.getElementById('user-email-display').innerText = userEmail;
            }
            if (typeof userId !== 'undefined') {
                document.getElementById('user-id-display').innerText = userId;
        
