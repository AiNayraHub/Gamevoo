<script>
    async function startAd() {
        const btn = document.getElementById('ad-trigger-btn');
        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> PROCESSING...';

        // 1. Script trigger (Ad display)
        console.log("Ad script running...");

        // 2. Data save logic (Wait for it)
        try {
            // Hum yahan thoda delay de rahe hain ads ke liye
            setTimeout(async () => {
                await addCoins(10); // Ye function ab app.js se sahi connect hoga
                
                btn.disabled = false;
                btn.innerHTML = '<i class="fas fa-check-circle mr-2"></i> CLAIMED +10';
                
                // Confirm UI Update
                document.getElementById('current-coins-ui').innerText = coins;
                
                alert("Mubarak ho! 10 Coins aapke data mein add ho gaye.");
            }, 3000);
        } catch (e) {
            alert("Error: " + e.message);
            btn.disabled = false;
        }
    }

    window.onload = async () => {
        await init(); // app.js ka init function
        document.getElementById('current-coins-ui').innerText = coins;
    };
</script>
